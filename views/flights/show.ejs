<%- include('../partials/header')%>
<div class="flight-detail-container">
<section id="show-page">

<h2 id="details-h2">Flight Details</h2><br>

<div>Airline: <%= flight.airline %></div><br>
<div>Flight Number: <%= flight.flightNo %></div><br>
<div>Departure Airport: <%= flight.airport %></div><br>
<div>Departure Time: <%= flight.departs %></div><br>
</section><br>

<form  action="/flights/<%= flight._id %>/destinations" method="POST">
<label>Arrival Destination:</label>
    <select name="airport" id="select-airport">
        <option value="AUS">AUS</option>
        <option value="DFW">DFW</option>
        <option value="DEN">DEN</option>
        <option value="LAX">LAX</option>
        <option value="SAN">SAN</option>
    </select>
<br>
<br>
<label>Arrival Date/Time:
    <input type="daytime-local" name="arrival" required>
</label><br>
<br>
<button type="submit" class="create-btn" value="Add Destination">Add Destination</button>
</form>

<br />
<hr />

<h2 id="details-h2">Destinations</h2>

<ul>
  <% flight.destinations.forEach(destination => { %>
    <li><%= destination.airport %> - <%= destination.arrival %></li>
  <% }) %>
</ul>

<br />
<hr />

<div>
  <h2 id="details-h2">Tickets</h2>
  <table>
      <thead>
          <th>
              Seat
          </th>
          <th>
              Price
          </th>
      </thead>
      <% ticket.forEach(function(t) { %>
          <tr>
              <td><%= t.seat %></td>
              <td><%= t.price %></td>
              <td>
                  <form action="/tickets/<%= t._id %>?_method=DELETE" method="POST" id="delete-ticket">
                          
                  </form>
              </td>
          </tr>
      <% }) %>  
    </table>
    <button type="submit" class="create-btn"><a href="/flights/<%= flight._id %>/tickets/new">Create a new ticket</a></button>
    <button type="submit" form="delete-ticket" class="create-btn">Delete Ticket</button>         
</div> 
</div> 
<%- include('../partials/footer')%>
